(function(){"use strict";var t={918:function(t,e,a){var o=a(5130),r=a(4357),s=a(6768),n=a(4232);const i={id:"app"},l={class:"nav-container"},c={class:"input-group"},h={key:0,class:"bookmarks-menu"},u={class:"bookmarks-header"},d={class:"left-content"},f=["onClick"],k=["onClick"],m={key:0,class:"weather-info"},p={class:"city-name"},y={class:"location"},g={class:"current-temp"},w={class:"weather-condition"},b={class:"high-low"},v={key:1},L={class:"forecast-container"},C={class:"button-container"},F={key:0,class:"daily-forecast-container"},D={class:"forecast-table"},_={key:1};function B(t,e,a,r,B,x){return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("main",null,[(0,s.Lk)("section",l,[(0,s.Lk)("div",c,[e[7]||(e[7]=(0,s.Lk)("span",{class:"input-group-text"},[(0,s.Lk)("i",{class:"fa-solid fa-magnifying-glass"})],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>B.searchQuery=t),onKeydown:e[1]||(e[1]=(0,o.jR)(((...t)=>x.fetchWeather&&x.fetchWeather(...t)),["enter"])),placeholder:"Search for a location.."},null,544),[[o.Jo,B.searchQuery]])]),(0,s.Lk)("button",{class:"btn btn-outline-secondary",onClick:e[2]||(e[2]=t=>B.showBookmarks=!B.showBookmarks)},e[8]||(e[8]=[(0,s.Lk)("i",{class:"fa-regular fa-bookmark"},null,-1)]))]),B.showBookmarks?((0,s.uX)(),(0,s.CE)("aside",h,[(0,s.Lk)("div",u,[e[10]||(e[10]=(0,s.Lk)("h3",null,"Saved Locations",-1)),(0,s.Lk)("button",{class:"btn btn-outline-secondary",onClick:e[3]||(e[3]=t=>B.showBookmarks=!1)},e[9]||(e[9]=[(0,s.Lk)("i",{class:"fa-solid fa-xmark"},null,-1)]))]),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(B.bookmarks,(t=>((0,s.uX)(),(0,s.CE)("li",{key:t.name},[(0,s.Lk)("div",d,[(0,s.Lk)("i",{class:(0,n.C4)([x.getBookmarkIcon(t),"bookmark-weather-icon"])},null,2),(0,s.Lk)("span",{onClick:e=>x.selectBookmark(t.name)},(0,n.v_)(t.name)+", "+(0,n.v_)(t.country),9,f)]),(0,s.Lk)("button",{onClick:e=>x.removeBookmark(t.name)},e[11]||(e[11]=[(0,s.Lk)("i",{class:"fa-solid fa-xmark"},null,-1)]),8,k)])))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("section",{class:(0,n.C4)(["main-weather",{night:x.isNight}])},[B.weather&&B.weather.main?((0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("button",{class:(0,n.C4)(["bookmark-btn",{saved:x.isBookmarked}]),onClick:e[4]||(e[4]=(...t)=>x.toggleBookmark&&x.toggleBookmark(...t))},[(0,s.Lk)("i",{class:(0,n.C4)(x.isBookmarked?"fa-solid fa-bookmark":"fa-regular fa-bookmark")},null,2)],2),(0,s.Lk)("i",{class:(0,n.C4)([x.weatherIcon,"weather-icon"])},null,2),(0,s.Lk)("h2",p,(0,n.v_)(B.weather.name),1),(0,s.Lk)("p",y,(0,n.v_)(B.weather.state)+", "+(0,n.v_)(B.weather.sys?.country),1),(0,s.Lk)("p",g,(0,n.v_)(Math.round(B.weather.main.temp))+"°F",1),(0,s.Lk)("p",w,(0,n.v_)(B.weather.weather[0].main),1),(0,s.Lk)("p",b," H: "+(0,n.v_)(x.currentDayHighLow.high)+"°F L: "+(0,n.v_)(x.currentDayHighLow.low)+"°F ",1)])):((0,s.uX)(),(0,s.CE)("div",v,e[12]||(e[12]=[(0,s.Lk)("p",{class:"loading-text"},"Loading...",-1)])))],2),(0,s.Lk)("section",L,[e[15]||(e[15]=(0,s.Lk)("h2",null,"Forecasts",-1)),(0,s.Lk)("div",C,[(0,s.Lk)("button",{class:"btn btn-outline-secondary",onClick:e[5]||(e[5]=t=>B.showFiveDayForecast=!0)}," 5-Days "),(0,s.Lk)("button",{class:"btn btn-outline-secondary",onClick:e[6]||(e[6]=t=>{B.showFiveDayForecast=!1,x.fetchHourlyForecast()})}," Hourly ")]),B.showFiveDayForecast?((0,s.uX)(),(0,s.CE)("section",F,[(0,s.Lk)("table",D,[e[13]||(e[13]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Day"),(0,s.Lk)("th",null,"Condition"),(0,s.Lk)("th",null,"High"),(0,s.Lk)("th",null,"Low")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(B.dailyForecast,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.date},[(0,s.Lk)("td",null,(0,n.v_)(t.date),1),(0,s.Lk)("td",null,[(0,s.Lk)("i",{class:(0,n.C4)([x.getWeatherIcon(t.condition),"forecast-icon"])},null,2),(0,s.eW)(" "+(0,n.v_)(t.condition),1)]),(0,s.Lk)("td",null,(0,n.v_)(t.high)+"°F",1),(0,s.Lk)("td",null,(0,n.v_)(t.low)+"°F",1)])))),128))])])])):((0,s.uX)(),(0,s.CE)("section",_,e[14]||(e[14]=[(0,s.Lk)("canvas",{id:"hourlyChart",width:"800",height:"300"},null,-1),(0,s.Lk)("canvas",{id:"rainfallChart",width:"800",height:"300"},null,-1)])))])])])}a(4114),a(8111),a(2489),a(7588),a(1701),a(3579);var x=a(9064);x.t1.register(...x.$L);var E={name:"App",data(){return{api_key:"4678aa73a2c81a5a92de8b076aef4fb8",url_base:"https://api.openweathermap.org/data/2.5/",searchQuery:"",weather:{state:""},sunrise:null,sunset:null,hourlyData:[],chart:null,bookmarks:[],showBookmarks:!1,dailyForecast:[],showFiveDayForecast:!1}},computed:{isNight(){if(!this.sunrise||!this.sunset)return!1;const t=(new Date).getTime()/1e3;return t<this.sunrise||t>this.sunset},isBookmarked(){return this.bookmarks.some((t=>t.name===this.weather.name))},weatherIcon(){if(!this.weather.weather||0===this.weather.weather.length)return"fa-solid fa-cloud";const t=this.weather.weather[0].main.toLowerCase(),e=!this.isNight;switch(t){case"clear":return e?"fa-solid fa-sun":"fa-solid fa-moon";case"clouds":return e?"fa-solid fa-cloud-sun":"fa-solid fa-cloud-moon";case"rain":return"fa-solid fa-cloud-rain";case"thunderstorm":return"fa-solid fa-cloud-bolt";case"snow":return"fa-solid fa-snowflake";case"haze":case"mist":case"fog":return"fa-solid fa-smog";default:return"fa-solid fa-meteor"}},currentDayHighLow(){if(!this.dailyForecast||0===this.dailyForecast.length)return{high:null,low:null};const t=this.dailyForecast[0];return{high:t.high,low:t.low}}},methods:{fetchWeather(t){"Enter"===t.key&&fetch(`${this.url_base}weather?q=${this.searchQuery}&APPID=${this.api_key}&units=imperial`).then((t=>t.json())).then((t=>{this.setResults(t),this.fetchFiveDayForecast(t.coord.lat,t.coord.lon),this.fetchState(t.coord.lat,t.coord.lon)})).catch((t=>console.error("Error fetching weather data:",t)))},fetchFiveDayForecast(t,e){fetch(`${this.url_base}forecast?lat=${t}&lon=${e}&units=imperial&appid=${this.api_key}`).then((t=>t.json())).then((t=>{console.log("5-Day/3-Hour Forecast Data:",t),this.dailyForecast=this.processFiveDayForecast(t.list)})).catch((t=>console.error("Error fetching 5-day forecast:",t)))},setResults(t){this.weather=t,t.sys&&(this.sunrise=t.sys.sunrise,this.sunset=t.sys.sunset)},fetchHourlyForecast(){fetch(`${this.url_base}forecast?q=${this.searchQuery}&APPID=${this.api_key}&units=imperial`).then((t=>t.json())).then((t=>{this.hourlyData=t.list.slice(0,8),this.updateChart(),this.updateRainfallChart()})).catch((t=>console.error("Error fetching hourly forecast:",t)))},updateRainfallChart(){const t=this.hourlyData.map((t=>{const e=new Date(1e3*t.dt);let a=e.getHours();const o=a>=12?"PM":"AM";return a=a%12||12,`${a}${o}`})),e=this.hourlyData.map((t=>{const e=t.rain?.["3h"]||0,a=Math.max(0,e/25.4);return a.toFixed(2)}));this.rainfallChart&&this.rainfallChart.destroy();const a=document.getElementById("rainfallChart").getContext("2d");this.rainfallChart=new x.t1(a,{type:"line",data:{labels:t,datasets:[{data:e,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:2,tension:.4,fill:!0,pointBackgroundColor:"rgba(54, 162, 235, 1)",pointBorderColor:"rgba(54, 162, 235, 1)",pointRadius:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Precipitation",font:{family:"Poppins",size:18,weight:"400"},padding:{top:10,bottom:10}}},scales:{x:{title:{display:!1}},y:{beginAtZero:!0,min:0,title:{display:!1}}}}})},updateChart(){const t=this.hourlyData.map((t=>{const e=new Date(1e3*t.dt);let a=e.getHours();const o=a>=12?"PM":"AM";return a=a%12||12,`${a}${o}`})),e=this.hourlyData.map((t=>Math.round(t.main.temp)));this.chart&&this.chart.destroy();const a=document.getElementById("hourlyChart").getContext("2d");this.chart=new x.t1(a,{type:"line",data:{labels:t,datasets:[{data:e,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:2,tension:.4,fill:!0,pointBackgroundColor:"rgba(75, 192, 192, 1)",pointBorderColor:"rgba(75, 192, 192, 1)",pointRadius:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Temperature",font:{family:"Poppins",size:18,weight:"400"},padding:{top:10,bottom:10}}},scales:{x:{title:{display:!1}},y:{title:{display:!1}}}}})},removeBookmark(t){this.bookmarks=this.bookmarks.filter((e=>e.name!==t))},selectBookmark(t){this.searchQuery=t,this.fetchWeather({key:"Enter"}),this.showBookmarks=!1},toggleBookmark(){this.isBookmarked?this.bookmarks=this.bookmarks.filter((t=>t.name!==this.weather.name)):this.weather.name&&this.bookmarks.push({name:this.weather.name,country:this.weather.sys?.country,condition:this.weather.weather[0].main.toLowerCase(),isDay:!this.isNight})},getBookmarkIcon(t){const e=t.condition,a=t.isDay;switch(e){case"clear":return a?"fa-solid fa-sun":"fa-solid fa-moon";case"clouds":return a?"fa-solid fa-cloud-sun":"fa-solid fa-cloud-moon";case"rain":return"fa-solid fa-cloud-rain";case"thunderstorm":return"fa-solid fa-cloud-bolt";case"snow":return"fa-solid fa-snowflake";case"haze":case"mist":case"fog":return"fa-solid fa-smog";default:return"fa-solid fa-meteor"}},formatDate(t){const e=new Date(1e3*t);return e.toLocaleDateString("en-US",{weekday:"long"})},getWeatherIcon(t){switch(t){case"Clear":return"fa-solid fa-sun";case"Clouds":return"fa-solid fa-cloud-sun";case"Rain":return"fa-solid fa-cloud-rain";case"Thunderstorm":return"fa-solid fa-cloud-bolt";case"Snow":return"fa-solid fa-snowflake";case"Haze":case"Mist":case"Fog":return"fa-solid fa-smog";default:return"fa-solid fa-meteor"}},processFiveDayForecast(t){const e={};return t.forEach((t=>{const a=new Date(1e3*t.dt).toLocaleDateString("en-US",{weekday:"long"});e[a]?(e[a].high=Math.max(e[a].high,t.main.temp_max),e[a].low=Math.min(e[a].low,t.main.temp_min)):e[a]={high:t.main.temp_max,low:t.main.temp_min,condition:t.weather[0].main}})),Object.entries(e).map((([t,e])=>({date:t,high:Math.round(e.high),low:Math.round(e.low),condition:e.condition}))).slice(0,5)},fetchState(t,e){fetch(`https://api.openweathermap.org/geo/1.0/reverse?lat=${t}&lon=${e}&limit=1&appid=${this.api_key}`).then((t=>t.json())).then((t=>{t&&t.length>0&&(this.weather.state=t[0].state||"")})).catch((t=>console.error("Error fetching location details:",t)))}}},$=a(1241);const M=(0,$.A)(E,[["render",B]]);var j=M;const H=(0,o.Ef)(j);H.use(r["default"]),H.mount("#app")}},e={};function a(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,o,r,s){if(!o){var n=1/0;for(h=0;h<t.length;h++){o=t[h][0],r=t[h][1],s=t[h][2];for(var i=!0,l=0;l<o.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((function(t){return a.O[t](o[l])}))?o.splice(l--,1):(i=!1,s<n&&(n=s));if(i){t.splice(h--,1);var c=r();void 0!==c&&(e=c)}}return e}s=s||0;for(var h=t.length;h>0&&t[h-1][2]>s;h--)t[h]=t[h-1];t[h]=[o,r,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,s,n=o[0],i=o[1],l=o[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var h=l(a)}for(e&&e(o);c<n.length;c++)s=n[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(h)},o=self["webpackChunkclimacast"]=self["webpackChunkclimacast"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(918)}));o=a.O(o)})();
//# sourceMappingURL=app.a0ee62d5.js.map